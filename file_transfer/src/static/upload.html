<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enviar Arquivos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10">
                <div class="card shadow-lg mt-4 mb-4">
                    <div class="card-header bg-primary text-white text-center">
                        <h2 class="mb-0"><i class="bi bi-upload"></i> Enviar Arquivos</h2>
                    </div>
                    <div class="card-body">
                        <div id="upload-screen">
                            <div class="alert alert-info" role="alert">
                                <i class="bi bi-info-circle"></i> Selecione os arquivos que deseja enviar para o computador
                            </div>
                            
                            <div class="file-upload-container mb-4">
                                <div class="upload-area text-center p-4 border rounded bg-light mb-3" id="drop-area">
                                    <i class="bi bi-cloud-arrow-up display-4 text-primary"></i>
                                    <p class="mt-2">Toque para selecionar arquivos ou arraste e solte aqui</p>
                                    <p class="small text-muted">Formatos aceitos: PDF, JPG, JPEG, PNG, WEBP, SVG, HEIC, BMP</p>
                                    <p class="small text-muted">Tamanho máximo: 30MB por arquivo</p>
                                    <input type="file" id="file-input" multiple accept=".pdf,.jpg,.jpeg,.png,.webp,.svg,.heic,.bmp" class="d-none">
                                </div>
                                
                                <button id="select-files-btn" class="btn btn-outline-primary w-100">
                                    <i class="bi bi-file-earmark-plus"></i> Selecionar Arquivos
                                </button>
                            </div>
                            
                            <div id="selected-files-container" class="d-none">
                                <h5><i class="bi bi-file-earmark-check"></i> Arquivos Selecionados</h5>
                                <div id="selected-files-list" class="list-group mb-3">
                                    <!-- Os arquivos selecionados serão adicionados aqui dinamicamente -->
                                </div>
                                
                                <div class="d-grid gap-2">
                                    <button id="upload-files-btn" class="btn btn-success btn-lg">
                                        <i class="bi bi-send"></i> Enviar Arquivos
                                    </button>
                                    <button id="clear-files-btn" class="btn btn-outline-danger">
                                        <i class="bi bi-trash"></i> Limpar Seleção
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div id="upload-progress-screen" class="d-none">
                            <h5 class="text-center mb-3">Enviando arquivos...</h5>
                            <div class="progress mb-3">
                                <div id="upload-progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%"></div>
                            </div>
                            <p id="upload-status" class="text-center text-muted">Preparando arquivos...</p>
                        </div>
                        
                        <div id="upload-success-screen" class="d-none text-center">
                            <div class="mb-4">
                                <i class="bi bi-check-circle text-success display-1"></i>
                                <h4 class="mt-3">Arquivos enviados com sucesso!</h4>
                                <p class="text-muted">Os arquivos já estão disponíveis no computador.</p>
                            </div>
                            <button id="send-more-btn" class="btn btn-primary">
                                <i class="bi bi-plus-circle"></i> Enviar mais arquivos
                            </button>
                        </div>
                        
                        <div id="upload-error-screen" class="d-none text-center">
                            <div class="mb-4">
                                <i class="bi bi-exclamation-circle text-danger display-1"></i>
                                <h4 class="mt-3">Erro ao enviar arquivos</h4>
                                <p id="error-message" class="text-muted">Ocorreu um erro durante o envio.</p>
                            </div>
                            <button id="try-again-btn" class="btn btn-primary">
                                <i class="bi bi-arrow-repeat"></i> Tentar novamente
                            </button>
                        </div>
                    </div>
                    <div class="card-footer text-center text-muted">
                        <small>Conexão segura com o computador de destino</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="/js/upload.js"></script>
</body>
</html>
